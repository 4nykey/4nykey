Index: Makefile
===================================================================
RCS file: /cvsroot/gpac/gpac/Makefile,v
retrieving revision 1.3
diff -u -r1.3 Makefile
--- Makefile	1 Aug 2005 20:42:56 -0000	1.3
+++ Makefile	4 Aug 2005 20:46:37 -0000
@@ -61,13 +61,12 @@
 
 install:
 	install -d "$(prefix)/bin"
-	install $(INSTFLAGS) -m 755 bin/gcc/MP4Box "$(prefix)/bin"
-	install $(INSTFLAGS) -m 755 bin/gcc/MP42Avi "$(prefix)/bin"
+	install $(INSTFLAGS) -m 755 bin/gcc/mp4box "$(prefix)/bin"
+	install $(INSTFLAGS) -m 755 bin/gcc/mp42avi "$(prefix)/bin"
 	$(MAKE) -C applications install
 	install -d "$(moddir)"
 	install bin/gcc/*.$(DYN_LIB_SUFFIX) "$(moddir)"
 	rm -f $(moddir)/libgpac.$(DYN_LIB_SUFFIX)
-	rm -f $(moddir)/nposmozilla.$(DYN_LIB_SUFFIX)
 ifeq ($(CONFIG_WIN32),yes)
 	install $(INSTFLAGS) -m 755 bin/gcc/libgpac.dll $(prefix)/lib
 else
@@ -80,7 +80,6 @@
 else
 	install -s -m 755 bin/gcc/libgpac.$(DYN_LIB_SUFFIX) $(prefix)/lib/libgpac-$(VERSION).$(DYN_LIB_SUFFIX)
 	ln -sf libgpac-$(VERSION).$(DYN_LIB_SUFFIX) $(prefix)/lib/libgpac.$(DYN_LIB_SUFFIX)
-	ldconfig || true
 endif
 endif
 	install -d "$(mandir)/man1"
Index: configure
===================================================================
RCS file: /cvsroot/gpac/gpac/configure,v
retrieving revision 1.7
diff -u -r1.7 configure
--- configure	3 Aug 2005 09:55:39 -0000	1.7
+++ configure	4 Aug 2005 20:46:41 -0000
@@ -134,7 +134,7 @@
 need_inet_aton="no"
 LDFLAGS=-Wl,--warn-common
 #avoid the strict aliasing warnings...
-CFLAGS="-fno-strict-aliasing"
+CFLAGS="$CFLAGS -fno-strict-aliasing"
 GPAC_SH_FLAGS=-lpthread
 DYN_LIB_SUFFIX="so"
 
Index: applications/mp4client/Makefile
===================================================================
RCS file: /cvsroot/gpac/gpac/applications/mp4client/Makefile,v
retrieving revision 1.2
diff -u -r1.2 Makefile
--- applications/mp4client/Makefile	28 Jul 2005 18:26:40 -0000	1.2
+++ applications/mp4client/Makefile	4 Aug 2005 20:46:41 -0000
@@ -23,14 +23,14 @@
 PROG=MP4Client$(EXE)
 else
 EXT=
-PROG=MP4Client
+PROG=mp4client
 endif
 
 SRCS := $(OBJS:.o=.c) 
 
 all: $(PROG)
 
-MP4Client$(EXE): $(OBJS)
+mp4client$(EXE): $(OBJS)
 	$(CC) $(LDFLAGS) -o ../../bin/gcc/$@ $(OBJS) -L../../bin/gcc -lgpac -lz
 
 %.o: %.c
@@ -39,9 +39,8 @@
 clean: 
 	rm -f $(OBJS) ../../bin/gcc/$(PROG)
 
-install: clean
-	make -override BUILD_INSTALL=yes all
-	install -c -s -m 755 ../../bin/gcc/MP4Client "$(prefix)/bin"
+install: 
+	install -c -s -m 755 ../../bin/gcc/mp4client "$(prefix)/bin"
 
 uninstall:
 	rm -rf $(prefix)/bin/MP4Client
Index: applications/osmo4_wx/Makefile
===================================================================
RCS file: /cvsroot/gpac/gpac/applications/osmo4_wx/Makefile,v
retrieving revision 1.4
diff -u -r1.4 Makefile
--- applications/osmo4_wx/Makefile	1 Aug 2005 20:43:11 -0000	1.4
+++ applications/osmo4_wx/Makefile	4 Aug 2005 20:46:41 -0000
@@ -23,7 +23,7 @@
 PROG=Osmo4$(EXE)
 else
 EXT=
-PROG=Osmo4
+PROG=osmo4
 endif
 
 
@@ -31,8 +31,8 @@
 
 all: $(PROG)
 
-Osmo4$(EXE): $(OBJS)
-	$(CC) $(LDFLAGS) -o ../../bin/gcc/$@ $(OBJS) -L../../bin/gcc -lgpac $(WX_LFLAGS) -lz
+osmo4$(EXE): $(OBJS)
+	$(CXX) $(LDFLAGS) -o ../../bin/gcc/$@ $(OBJS) -L../../bin/gcc -lgpac $(WX_LFLAGS) -lz
 
 %.o: %.cpp
 	$(CXX) $(CFLAGS) $(INSTALL_FLAGS) $(WX_CFLAGS) -c -o $@ $< 
@@ -54,9 +54,7 @@
 	      $(DESTDIR)$(mac_apps)/Osmo4.app/Contents/MacOS
 	echo -n 'APPLOsm4' > $(DESTDIR)$(mac_apps)/Osmo4.app/Contents/PkgInfo
 else
-	rm -f wxOsmo4.o
-	make -override BUILD_INSTALL=yes all
-	install -c -s -m 755 ../../bin/gcc/Osmo4 "$(prefix)/bin"
+	install -c -s -m 755 ../../bin/gcc/osmo4 "$(prefix)/bin"
 endif
 
 uninstall:
Index: applications/osmozilla/Makefile
===================================================================
RCS file: /cvsroot/gpac/gpac/applications/osmozilla/Makefile,v
retrieving revision 1.4
diff -u -r1.4 Makefile
--- applications/osmozilla/Makefile	31 Jul 2005 18:49:45 -0000	1.4
+++ applications/osmozilla/Makefile	4 Aug 2005 20:46:41 -0000
@@ -14,7 +14,7 @@
 endif
 endif
 
-CFLAGS= $(OPTFLAGS) -Wall -I$(SRC_PATH)/include \
+CFLAGS= $(OPTFLAGS) -fPIC -Wall -I$(SRC_PATH)/include -I/usr/lib/gecko-sdk/include #\
   -I$(GECKO_PATH) \
   -I$(GECKO_PATH)/plugin/include  \
   -I$(GECKO_PATH)/nspr/include \
@@ -84,8 +84,8 @@
 	install -D -m 755 ../../bin/gcc/nposmozilla.xpt "$(HOME)/.mozilla/components/nposmozilla.xpt"
 endif
 else
-	install -D -m 755 ../../bin/gcc/$(LIB) "$(MOZILLA_DIR)/components/$(LIB)"
-	install -D -m 755 ../../bin/gcc/nposmozilla.xpt "$(MOZILLA_DIR)/components/nposmozilla.xpt"
+	install -D -m 755 ../../bin/gcc/$(LIB) "$(MOZILLA_DIR)/$(LIB)"
+	install -D -m 755 ../../bin/gcc/nposmozilla.xpt "$(MOZILLA_DIR)/nposmozilla.xpt"
 endif
 
 dep: depend
Index: applications/mp4box/Makefile
===================================================================
RCS file: /cvsroot/gpac/gpac/applications/mp4box/Makefile,v
retrieving revision 1.2
diff -u -r1.2 Makefile
--- applications/mp4box/Makefile	18 Jul 2005 17:02:20 -0000	1.2
+++ applications/mp4box/Makefile	4 Aug 2005 20:46:41 -0000
@@ -25,7 +25,7 @@
 LINKFLAGS+=-lgpac
 else
 EXT=
-PROG=MP4Box
+PROG=mp4box
 #LINKFLAGS+=-lgpac_static $(EXTRALIBS) $(GPAC_SH_FLAGS) -lz
 LINKFLAGS+=-lgpac
 endif
Index: applications/mp42avi/Makefile
===================================================================
RCS file: /cvsroot/gpac/gpac/applications/mp42avi/Makefile,v
retrieving revision 1.2
diff -u -r1.2 Makefile
--- applications/mp42avi/Makefile	18 Jul 2005 17:02:20 -0000	1.2
+++ applications/mp42avi/Makefile	4 Aug 2005 20:46:41 -0000
@@ -18,7 +18,7 @@
 PROG=MP42Avi$(EXE)
 else
 EXT=
-PROG=MP42Avi
+PROG=mp42avi
 endif
 
 SRCS := $(OBJS:.o=.c) 
